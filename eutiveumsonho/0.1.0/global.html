<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Global</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Global</h1>

    




<section>

<header>
    
        <h2></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="ENCRYPTION_KEY"><span class="type-signature">(constant) </span>ENCRYPTION_KEY<span class="type-signature"></span></h4>


<p class="summary"><p>How this encryption key was generated ðŸ‘‡</p>.</p>



<div class="description">
    <p>How this encryption key was generated ðŸ‘‡</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_encryption.js.html">lib/encryption.js</a>, <a href="lib_encryption.js.html#line13">line 13</a>
    </li></ul></dd>
    

    

    

    
</dl>





    <h5>Example</h5>
    
    <pre class="prettyprint"><code>import crypto from "crypto";

crypto.randomBytes(32).toString('hex');</code></pre>



        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="Editor"><span class="type-signature"></span>Editor<span class="signature">()</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">The editor which is used to create the annotation.</p>
    



<div class="description">
    <p>The editor which is used to create the annotation. Supports formatting.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_editor_index.js.html">components/editor/index.js</a>, <a href="components_editor_index.js.html#line68">line 68</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="MainNavigation"><span class="type-signature"></span>MainNavigation<span class="signature">()</span><span class="type-signature"></span></h4>
    

    
    <p class="summary"><p>Navigation items are organized by
usage order (data from G.A.)</p>.</p>
    



<div class="description">
    <p>Navigation items are organized by
usage order (data from G.A.)</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_dashboard.js.html">components/dashboard.js</a>, <a href="components_dashboard.js.html#line138">line 138</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="accountHandler"><span class="type-signature"></span>accountHandler<span class="signature">()</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">Account related API.</p>
    



<div class="description">
    <p>Account related API. Currently only supports DELETE.
When deleting an account, we delete all dreams, comments, and inbox messages
through this endpoint.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pages_api_account.js.html">pages/api/account.js</a>, <a href="pages_api_account.js.html#line12">line 12</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="addMissingAICommentData"><span class="type-signature"></span>addMissingAICommentData<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_db_migrations.js.html">lib/db/migrations.js</a>, <a href="lib_db_migrations.js.html#line60">line 60</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="addMissingWordFreqData"><span class="type-signature"></span>addMissingWordFreqData<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_db_migrations.js.html">lib/db/migrations.js</a>, <a href="lib_db_migrations.js.html#line11">line 11</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="aiCommentsHandler"><span class="type-signature"></span>aiCommentsHandler<span class="signature">()</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">This is the API route for creating a comment generated by AI.</p>
    



<div class="description">
    <p>This is the API route for creating a comment generated by AI.
Through this endpoint, this service hits OpenAI to generate a completion
and then saves it to the database, associating it with a comment.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pages_api_data_ai-comments.js.html">pages/api/data/ai-comments.js</a>, <a href="pages_api_data_ai-comments.js.html#line18">line 18</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="commentsHandler"><span class="type-signature"></span>commentsHandler<span class="signature">()</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">This is the API route for managing comments.</p>
    



<div class="description">
    <p>This is the API route for managing comments.
It supports POST and DELETE, allowing users to create and delete their own comments.
Comments cannot be edited, and dream owners cannot delete comments from others (this is likely
changing in the near future).</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pages_api_data_comments.js.html">pages/api/data/comments.js</a>, <a href="pages_api_data_comments.js.html#line18">line 18</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="createComment"><span class="type-signature"></span>createComment<span class="signature">(data)</span><span class="type-signature"> &rarr; {Promise.&lt;{insertedId: string}>}</span></h4>
    

    
    <p class="summary">This method is responsible for creating a comment.</p>
    



<div class="description">
    <p>This method is responsible for creating a comment.
It also creates an inbox message for the dream owner.
If the dream owner is the same as the user, no inbox message is created.
It has a special case for the AI user, which is a bot that creates comments.
The AI user doesn't have a database object, so it skips getting the user's database object.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>The data object</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>comment</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The comment text</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dreamId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The dream ID</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>session</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>The session object</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>user</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>The user object</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The user's name</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>email</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The user's email</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>image</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The user's image</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_db_writes.js.html">lib/db/writes.js</a>, <a href="lib_db_writes.js.html#line299">line 299</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;{insertedId: string}></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="createDream"><span class="type-signature"></span>createDream<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_db_writes.js.html">lib/db/writes.js</a>, <a href="lib_db_writes.js.html#line33">line 33</a>
    </li></ul></dd>
    

    

    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>document this</li>
        </ul>
    </dd>
    
</dl>




















        
            

    

    
    <h4 class="name" id="dataHandler"><span class="type-signature"></span>dataHandler<span class="signature">()</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">This is the main API route for getting, creating, updating, and deleting dreams.</p>
    



<div class="description">
    <p>This is the main API route for getting, creating, updating, and deleting dreams.
It supports GET, POST, PATCH, and DELETE, allowing users to search for dreams,
create new dreams, update existing dreams, and delete dreams.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pages_api_data_index.js.html">pages/api/data/index.js</a>, <a href="pages_api_data_index.js.html#line18">line 18</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="deleteAccount"><span class="type-signature"></span>deleteAccount<span class="signature">(userEmail)</span><span class="type-signature"> &rarr; {Promise.&lt;{success: boolean}>}</span></h4>
    

    
    <p class="summary">Method responsible for deleting a user's account.</p>
    



<div class="description">
    <p>Method responsible for deleting a user's account.
This method is called when a user deletes their account.
It deletes all dreams, comments and stars related to the user, and the user's account.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>userEmail</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The user's email</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_db_writes.js.html">lib/db/writes.js</a>, <a href="lib_db_writes.js.html#line206">line 206</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;{success: boolean}></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="deleteAllInboxMessages"><span class="type-signature"></span>deleteAllInboxMessages<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_db_writes.js.html">lib/db/writes.js</a>, <a href="lib_db_writes.js.html#line604">line 604</a>
    </li></ul></dd>
    

    

    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>document this</li>
        </ul>
    </dd>
    
</dl>




















        
            

    

    
    <h4 class="name" id="deleteComment"><span class="type-signature"></span>deleteComment<span class="signature">(commentId, dreamId)</span><span class="type-signature"> &rarr; {Promise.&lt;any>}</span></h4>
    

    
    <p class="summary">This method is responsible for deleting a comment from a dream.</p>
    



<div class="description">
    <p>This method is responsible for deleting a comment from a dream.
It also deletes the inbox message for the dream owner.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>commentId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The comment ID</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dreamId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The dream ID</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_db_writes.js.html">lib/db/writes.js</a>, <a href="lib_db_writes.js.html#line425">line 425</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;any></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="deleteDream"><span class="type-signature"></span>deleteDream<span class="signature">(dreamId)</span><span class="type-signature"> &rarr; {Promise.&lt;{success: boolean}>}</span></h4>
    

    
    <p class="summary">Method responsible for deleting a dream.</p>
    



<div class="description">
    <p>Method responsible for deleting a dream.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dreamId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The dream's ID</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_db_writes.js.html">lib/db/writes.js</a>, <a href="lib_db_writes.js.html#line171">line 171</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;{success: boolean}></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="deleteSomeInboxMessages"><span class="type-signature"></span>deleteSomeInboxMessages<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_db_writes.js.html">lib/db/writes.js</a>, <a href="lib_db_writes.js.html#line617">line 617</a>
    </li></ul></dd>
    

    

    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>document this</li>
        </ul>
    </dd>
    
</dl>




















        
            

    

    
    <h4 class="name" id="generateUrlLoc"><span class="type-signature"></span>generateUrlLoc<span class="signature">(pages)</span><span class="type-signature"></span></h4>
    

    
    <p class="summary"><p>Generates an XML URL loc</p>.</p>
    



<div class="description">
    <p>Generates an XML URL loc</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>pages</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last"><p>The set of filenames under the pages folder.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="scripts_generate-sitemap.js.html">scripts/generate-sitemap.js</a>, <a href="scripts_generate-sitemap.js.html#line29">line 29</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getAccountsCollection"><span class="type-signature"></span>getAccountsCollection<span class="signature">()</span><span class="type-signature"></span></h4>
    

    
    <p class="summary"><p>This collection is automatically generated by next-auth</p>.</p>
    



<div class="description">
    <p>This collection is automatically generated by next-auth</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_mongodb.js.html">lib/mongodb.js</a>, <a href="lib_mongodb.js.html#line88">line 88</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getAuthProps"><span class="type-signature"></span>getAuthProps<span class="signature">()</span><span class="type-signature"></span></h4>
    

    
    <p class="summary"><p>Must be used on every authenticated page</p>.</p>
    



<div class="description">
    <p>Must be used on every authenticated page</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_auth.js.html">lib/auth.js</a>, <a href="lib_auth.js.html#line24">line 24</a>
    </li></ul></dd>
    

    

    

    
</dl>



















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>export default function Page(props) {
  const { serverSession } = props;

  if (serverSession?.user) {
    return &lt;Authenticated serverSession={serverSession} />;
  }

  return &lt;NotAuthenticated/>;
}

export async function getServerSideProps(context) {
   return getAuthProps(context);
}</code></pre>



        
            

    

    
    <h4 class="name" id="getCommandOptionValue"><span class="type-signature"></span>getCommandOptionValue<span class="signature">()</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">Get the value from the option passed into the command.</p>
    



<div class="description">
    <p>Get the value from the option passed into the command.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_editor_react-component-utils.js.html">components/editor/react-component-utils.js</a>, <a href="components_editor_react-component-utils.js.html#line15">line 15</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getLatestPublicDreams"><span class="type-signature"></span>getLatestPublicDreams<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_db_reads.js.html">lib/db/reads.js</a>, <a href="lib_db_reads.js.html#line118">line 118</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getShortcutString"><span class="type-signature"></span>getShortcutString<span class="signature">()</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">Get a normalized shortcut as a string.</p>
    



<div class="description">
    <p>Get a normalized shortcut as a string.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_editor_react-component-utils.js.html">components/editor/react-component-utils.js</a>, <a href="components_editor_react-component-utils.js.html#line60">line 60</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getUiShortcutString"><span class="type-signature"></span>getUiShortcutString<span class="signature">()</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">Get the string value from the available UI Shortcut.</p>
    



<div class="description">
    <p>Get the string value from the available UI Shortcut.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_editor_react-component-utils.js.html">components/editor/react-component-utils.js</a>, <a href="components_editor_react-component-utils.js.html#line30">line 30</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getUserByEmail"><span class="type-signature"></span>getUserByEmail<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_db_reads.js.html">lib/db/reads.js</a>, <a href="lib_db_reads.js.html#line140">line 140</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getUserById"><span class="type-signature"></span>getUserById<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_db_reads.js.html">lib/db/reads.js</a>, <a href="lib_db_reads.js.html#line159">line 159</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getUsersCollection"><span class="type-signature"></span>getUsersCollection<span class="signature">()</span><span class="type-signature"></span></h4>
    

    
    <p class="summary"><p>This collection is automatically generated by next-auth</p>.</p>
    



<div class="description">
    <p>This collection is automatically generated by next-auth</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_mongodb.js.html">lib/mongodb.js</a>, <a href="lib_mongodb.js.html#line81">line 81</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="inboxHandler"><span class="type-signature"></span>inboxHandler<span class="signature">()</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">This is the API route for managing inbox messages.</p>
    



<div class="description">
    <p>This is the API route for managing inbox messages.
It supports PATCH and DELETE, allowing users to mark messages as read and
delete them.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pages_api_data_inbox.js.html">pages/api/data/inbox.js</a>, <a href="pages_api_data_inbox.js.html#line22">line 22</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="isStringArray"><span class="type-signature"></span>isStringArray<span class="signature">()</span><span class="type-signature"></span></h4>
    

    
    <p class="summary"><p>Checks whether the first element in an array is a string and assumes the
whole array is a string array.</p></p>
    



<div class="description">
    <p>Checks whether the first element in an array is a string and assumes the
whole array is a string array.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="components_editor_react-component-utils.js.html">components/editor/react-component-utils.js</a>, <a href="components_editor_react-component-utils.js.html#line23">line 23</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="markAllInboxMessagesAsRead"><span class="type-signature"></span>markAllInboxMessagesAsRead<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_db_writes.js.html">lib/db/writes.js</a>, <a href="lib_db_writes.js.html#line583">line 583</a>
    </li></ul></dd>
    

    

    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>document this</li>
        </ul>
    </dd>
    
</dl>




















        
            

    

    
    <h4 class="name" id="markSomeInboxMessagesAsRead"><span class="type-signature"></span>markSomeInboxMessagesAsRead<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_db_writes.js.html">lib/db/writes.js</a>, <a href="lib_db_writes.js.html#line561">line 561</a>
    </li></ul></dd>
    

    

    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>document this</li>
        </ul>
    </dd>
    
</dl>




















        
            

    

    
    <h4 class="name" id="post"><span class="type-signature">(async) </span>post<span class="signature">()</span><span class="type-signature"></span></h4>
    

    
    <p class="summary"><p>This is called when a dream is saved
for the very first time.</p></p>
    



<div class="description">
    <p>This is called when a dream is saved
for the very first time.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pages_api_data_index.js.html">pages/api/data/index.js</a>, <a href="pages_api_data_index.js.html#line76">line 76</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="publishHandler"><span class="type-signature"></span>publishHandler<span class="signature">()</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">This endpoint is responsible for enabling users to control the visibility of their dreams.</p>
    



<div class="description">
    <p>This endpoint is responsible for enabling users to control the visibility of their dreams.
To publish a dream means to make it visible to other users, either publicly visible,
or anonymously visible. Users can also hide dreams from other users ('private' is the defaut
visbility mode).</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pages_api_data_publish.js.html">pages/api/data/publish.js</a>, <a href="pages_api_data_publish.js.html#line18">line 18</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="starDream"><span class="type-signature"></span>starDream<span class="signature">(data)</span><span class="type-signature"> &rarr; {Promise.&lt;{insertedId: string}>}</span></h4>
    

    
    <p class="summary">This method is responsible for starring a dream.</p>
    



<div class="description">
    <p>This method is responsible for starring a dream.
It also creates an inbox message for the dream owner.
If the dream owner is the same as the user, no inbox message is created.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>The data object</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dreamId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The dream ID</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>session</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>The session object</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>user</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>The user object</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The user's name</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>email</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The user's email</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>image</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The user's image</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_db_writes.js.html">lib/db/writes.js</a>, <a href="lib_db_writes.js.html#line463">line 463</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;{insertedId: string}></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="starsHandler"><span class="type-signature"></span>starsHandler<span class="signature">()</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">This endpoint is used to star and unstar dreams.</p>
    



<div class="description">
    <p>This endpoint is used to star and unstar dreams.
To star a dream means to save it to a user's list of starred/saved dreams.
This endpoint only supports POST and DELETE.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pages_api_data_stars.js.html">pages/api/data/stars.js</a>, <a href="pages_api_data_stars.js.html#line17">line 17</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="text"><span class="type-signature"></span>text<span class="signature">()</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">Email Text body (fallback for email clients that don't render HTML, e.g.</p>
    



<div class="description">
    <p>Email Text body (fallback for email clients that don't render HTML, e.g. feature phones)</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="pages_api_auth_%5B...nextauth%5D.js.html">pages/api/auth/[...nextauth].js</a>, <a href="pages_api_auth_%5B...nextauth%5D.js.html#line121">line 121</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="unstarDream"><span class="type-signature"></span>unstarDream<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_db_writes.js.html">lib/db/writes.js</a>, <a href="lib_db_writes.js.html#line529">line 529</a>
    </li></ul></dd>
    

    

    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>document this</li>
        </ul>
    </dd>
    
</dl>




















        
            

    

    
    <h4 class="name" id="updateDream"><span class="type-signature"></span>updateDream<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_db_writes.js.html">lib/db/writes.js</a>, <a href="lib_db_writes.js.html#line62">line 62</a>
    </li></ul></dd>
    

    

    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>document this</li>
        </ul>
    </dd>
    
</dl>




















        
            

    

    
    <h4 class="name" id="updateDreamVisibility"><span class="type-signature"></span>updateDreamVisibility<span class="signature">(dreamId, visibility, userEmail)</span><span class="type-signature"> &rarr; {Promise.&lt;{success: boolean}>}</span></h4>
    

    
    <p class="summary">Method responsible for updating a dream's visibility.</p>
    



<div class="description">
    <p>Method responsible for updating a dream's visibility.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dreamId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The dream's ID</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>visibility</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>&quot;public&quot; or &quot;private&quot;</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>userEmail</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>The dream owner user's email</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_db_writes.js.html">lib/db/writes.js</a>, <a href="lib_db_writes.js.html#line104">line 104</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;{success: boolean}></span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#ENCRYPTION_KEY">ENCRYPTION_KEY</a></li><li><a href="global.html#Editor">Editor</a></li><li><a href="global.html#MainNavigation">MainNavigation</a></li><li><a href="global.html#accountHandler">accountHandler</a></li><li><a href="global.html#addMissingAICommentData">addMissingAICommentData</a></li><li><a href="global.html#addMissingWordFreqData">addMissingWordFreqData</a></li><li><a href="global.html#aiCommentsHandler">aiCommentsHandler</a></li><li><a href="global.html#commentsHandler">commentsHandler</a></li><li><a href="global.html#createComment">createComment</a></li><li><a href="global.html#createDream">createDream</a></li><li><a href="global.html#dataHandler">dataHandler</a></li><li><a href="global.html#deleteAccount">deleteAccount</a></li><li><a href="global.html#deleteAllInboxMessages">deleteAllInboxMessages</a></li><li><a href="global.html#deleteComment">deleteComment</a></li><li><a href="global.html#deleteDream">deleteDream</a></li><li><a href="global.html#deleteSomeInboxMessages">deleteSomeInboxMessages</a></li><li><a href="global.html#generateUrlLoc">generateUrlLoc</a></li><li><a href="global.html#getAccountsCollection">getAccountsCollection</a></li><li><a href="global.html#getAuthProps">getAuthProps</a></li><li><a href="global.html#getCommandOptionValue">getCommandOptionValue</a></li><li><a href="global.html#getLatestPublicDreams">getLatestPublicDreams</a></li><li><a href="global.html#getShortcutString">getShortcutString</a></li><li><a href="global.html#getUiShortcutString">getUiShortcutString</a></li><li><a href="global.html#getUserByEmail">getUserByEmail</a></li><li><a href="global.html#getUserById">getUserById</a></li><li><a href="global.html#getUsersCollection">getUsersCollection</a></li><li><a href="global.html#inboxHandler">inboxHandler</a></li><li><a href="global.html#isStringArray">isStringArray</a></li><li><a href="global.html#markAllInboxMessagesAsRead">markAllInboxMessagesAsRead</a></li><li><a href="global.html#markSomeInboxMessagesAsRead">markSomeInboxMessagesAsRead</a></li><li><a href="global.html#post">post</a></li><li><a href="global.html#publishHandler">publishHandler</a></li><li><a href="global.html#starDream">starDream</a></li><li><a href="global.html#starsHandler">starsHandler</a></li><li><a href="global.html#text">text</a></li><li><a href="global.html#unstarDream">unstarDream</a></li><li><a href="global.html#updateDream">updateDream</a></li><li><a href="global.html#updateDreamVisibility">updateDreamVisibility</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Sat Dec 09 2023 14:07:01 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>